{"version":3,"file":"index.min.js","sources":["../src/browser.ts","../src/props.ts","../src/ponyfills.ts","../src/constants.ts","../src/bindGlobalEventListeners.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/createTippy.ts","../src/index.ts","../src/group.ts"],"sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS =\n  isBrowser &&\n  /iPhone|iPad|iPod/.test(navigator.platform) &&\n  !(window as any).MSStream\n","import { Props } from './types'\n\nexport const defaultProps: Props = {\n  a11y: true,\n  allowHTML: true,\n  animateFill: true,\n  animation: 'shift-away',\n  appendTo: () => document.body,\n  aria: 'describedby',\n  arrow: false,\n  arrowType: 'sharp',\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [325, 275],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  followCursor: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onHidden() {},\n  onHide() {},\n  onMount() {},\n  onShow() {},\n  onShown() {},\n  onTrigger() {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnInit: false,\n  size: 'regular',\n  sticky: false,\n  target: '',\n  theme: 'dark',\n  touch: true,\n  touchHold: false,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  updateDuration: 0,\n  wait: null,\n  zIndex: 9999,\n}\n\n/**\n * If the set() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES: Array<keyof Props> = [\n  'arrow',\n  'arrowType',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","import { isBrowser } from './browser'\n\nconst elementProto: Record<string, any> = isBrowser ? Element.prototype : {}\n\nexport const matches =\n  elementProto.matches ||\n  elementProto.matchesSelector ||\n  elementProto.webkitMatchesSelector ||\n  elementProto.mozMatchesSelector ||\n  elementProto.msMatchesSelector\n\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Ponyfill for Element.prototype.closest\n */\nexport function closest(element: Element, selector: string): Element | null {\n  return closestCallback(element, (el: Element) => matches.call(el, selector))\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | null {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n\n    element = element.parentElement\n  }\n\n  return null\n}\n","// Passive event listener config\nexport const PASSIVE = { passive: true }\n\n// Popper `preventOverflow` padding\nexport const PADDING = 4\n\n// Popper attributes\n// In Popper v2 these will be `data-*` instead of `x-*` to adhere to HTML5 spec\nexport const PLACEMENT_ATTRIBUTE = 'x-placement'\nexport const OUT_OF_BOUNDARIES_ATTRIBUTE = 'x-out-of-boundaries'\n\n// Classes\nexport const IOS_CLASS = `__NAMESPACE_PREFIX__-iOS`\nexport const ACTIVE_CLASS = `__NAMESPACE_PREFIX__-active`\nexport const POPPER_CLASS = `__NAMESPACE_PREFIX__-popper`\nexport const TOOLTIP_CLASS = `__NAMESPACE_PREFIX__-tooltip`\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`\nexport const ROUND_ARROW_CLASS = `__NAMESPACE_PREFIX__-roundarrow`\n\n// Selectors\nexport const POPPER_SELECTOR = `.${POPPER_CLASS}`\nexport const TOOLTIP_SELECTOR = `.${TOOLTIP_CLASS}`\nexport const CONTENT_SELECTOR = `.${CONTENT_CLASS}`\nexport const BACKDROP_SELECTOR = `.${BACKDROP_CLASS}`\nexport const ARROW_SELECTOR = `.${ARROW_CLASS}`\nexport const ROUND_ARROW_SELECTOR = `.${ROUND_ARROW_CLASS}`\n","import { isIOS } from './browser'\nimport { PASSIVE, IOS_CLASS } from './constants'\n\nexport let isUsingTouch = false\n\nexport function onDocumentTouch(): void {\n  if (isUsingTouch) {\n    return\n  }\n\n  isUsingTouch = true\n\n  if (isIOS) {\n    document.body.classList.add(IOS_CLASS)\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\nlet lastMouseMoveTime = 0\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  // Chrome 60+ is 1 mousemove per animation frame, use 20ms time difference\n  if (now - lastMouseMoveTime < 20) {\n    isUsingTouch = false\n\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n\n    if (!isIOS) {\n      document.body.classList.remove(IOS_CLASS)\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n\n  if (activeElement && activeElement.blur && activeElement._tippy) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('touchstart', onDocumentTouch, PASSIVE)\n  window.addEventListener('blur', onWindowBlur)\n}\n","import { Props, VirtualReference, ReferenceElement } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeOptions(\n  reference: ReferenceElement | VirtualReference,\n): Props {\n  return keys.reduce((acc: any, key) => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n}\n\n/**\n * Polyfills the virtual reference (plain object) with Element.prototype props\n * Mutating because DOM elements are mutated, adds `_tippy` property\n */\nexport function polyfillElementPrototypeProperties(\n  virtualReference: VirtualReference & Record<string, any>,\n): void {\n  const polyfills: Record<string, any> = {\n    isVirtual: true,\n    attributes: virtualReference.attributes || {},\n    contains() {},\n    setAttribute(key: string, value: any) {\n      virtualReference.attributes[key] = value\n    },\n    getAttribute(key: string) {\n      return virtualReference.attributes[key]\n    },\n    removeAttribute(key: string) {\n      delete virtualReference.attributes[key]\n    },\n    hasAttribute(key: string) {\n      return key in virtualReference.attributes\n    },\n    addEventListener() {},\n    removeEventListener() {},\n    classList: {\n      classNames: {},\n      add(key: string) {\n        virtualReference.classList.classNames[key] = true\n      },\n      remove(key: string) {\n        delete virtualReference.classList.classNames[key]\n      },\n      contains(key: string) {\n        return key in virtualReference.classList.classNames\n      },\n    },\n  }\n\n  for (const key in polyfills) {\n    virtualReference[key] = polyfills[key]\n  }\n}\n","import {\n  Options,\n  Props,\n  ReferenceElement,\n  Targets,\n  VirtualReference,\n} from './types'\nimport { arrayFrom, matches } from './ponyfills'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeOptions } from './reference'\nimport { POPPER_SELECTOR } from './constants'\n\n/**\n * Determines if a value is a \"bare\" virtual element (before mutations done\n * by `polyfillElementPrototypeProperties()`). JSDOM elements show up as\n * [object Object], we can check if the value is \"element-like\" if it has\n * `addEventListener`\n */\nexport function isBareVirtualElement(value: any): boolean {\n  return (\n    {}.toString.call(value) === '[object Object]' && !value.addEventListener\n  )\n}\n\n/**\n * Determines if the value is a reference element\n */\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!value._tippy && !matches.call(value, POPPER_SELECTOR)\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isSingular(value)) {\n    // TODO: VirtualReference is not compatible to type Element\n    return [value as Element]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  try {\n    return arrayFrom(document.querySelectorAll(value))\n  } catch (e) {\n    return []\n  }\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValue(value: any, index: number, defaultValue: any): any {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null ? defaultValue : v\n  }\n\n  return value\n}\n\n/**\n * Debounce utility\n */\nexport function debounce(fn: Function, ms: number): () => void {\n  let timeoutId: number\n\n  return function() {\n    clearTimeout(timeoutId)\n    // @ts-ignore\n    timeoutId = setTimeout(() => fn.apply(this, arguments), ms)\n  }\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if an array or string includes a value\n */\nexport function includes(a: any[] | string, b: any): boolean {\n  return a.indexOf(b) > -1\n}\n\n/**\n * Determines if the value is a real element\n */\nexport function isRealElement(value: any): value is Element {\n  return value instanceof Element\n}\n\n/**\n * Determines if the value is singular-like\n */\nexport function isSingular(value: any): value is VirtualReference | Element {\n  return !!(value && hasOwnProperty(value, 'isVirtual')) || isRealElement(value)\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value.apply(null, args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter(m => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Determines if an element can receive focus\n * Always returns true for virtual objects\n */\nexport function canReceiveFocus(element: Element | VirtualReference): boolean {\n  return isRealElement(element)\n    ? matches.call(\n        element,\n        'a[href],area[href],button,details,input,textarea,select,iframe,[tabindex]',\n      ) && !element.hasAttribute('disabled')\n    : true\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`\n    }\n  })\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach(el => {\n    if (el) {\n      el.setAttribute('data-state', state)\n    }\n  })\n}\n\n/**\n * Evaluates the props object by merging data attributes and\n * disabling conflicting options where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement | VirtualReference,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeOptions(reference)),\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  return out\n}\n\n/**\n * Validates an object of options with the valid default props object\n */\nexport function validateOptions(options: Options, defaultProps: Props): void {\n  Object.keys(options).forEach(option => {\n    if (!hasOwnProperty(defaultProps, option)) {\n      throw new Error(`[tippy]: \\`${option}\\` is not a valid option`)\n    }\n  })\n}\n","import {\n  PopperElement,\n  Props,\n  PopperChildren,\n  HideAllOptions,\n  BasicPlacement,\n} from './types'\nimport { arrayFrom } from './ponyfills'\nimport { innerHTML, div, isReferenceElement, isRealElement } from './utils'\nimport { isUCBrowser } from './browser'\nimport {\n  POPPER_CLASS,\n  TOOLTIP_CLASS,\n  BACKDROP_CLASS,\n  CONTENT_CLASS,\n  ARROW_CLASS,\n  ROUND_ARROW_CLASS,\n  POPPER_SELECTOR,\n  TOOLTIP_SELECTOR,\n  BACKDROP_SELECTOR,\n  CONTENT_SELECTOR,\n  ARROW_SELECTOR,\n  ROUND_ARROW_SELECTOR,\n  PLACEMENT_ATTRIBUTE,\n} from './constants'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = isRealElement(html) ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (isRealElement(props.content)) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(TOOLTIP_SELECTOR) as HTMLDivElement,\n    backdrop: popper.querySelector(BACKDROP_SELECTOR),\n    content: popper.querySelector(CONTENT_SELECTOR) as HTMLDivElement,\n    arrow:\n      popper.querySelector(ARROW_SELECTOR) ||\n      popper.querySelector(ROUND_ARROW_SELECTOR),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(\n  arrowType: Props['arrowType'],\n): HTMLDivElement {\n  const arrow = div()\n  if (arrowType === 'round') {\n    arrow.className = ROUND_ARROW_CLASS\n    setInnerHTML(\n      arrow,\n      '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>',\n    )\n  } else {\n    arrow.className = ARROW_CLASS\n  }\n  return arrow\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = BACKDROP_CLASS\n  backdrop.setAttribute('data-state', 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.setAttribute('tabindex', '-1')\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(\n  popper: PopperElement,\n  tooltip: PopperChildren['tooltip'],\n): void {\n  popper.removeAttribute('tabindex')\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function updateTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  // UC Browser hasn't adopted the `transitionend` event despite supporting\n  // unprefixed transitions...\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getBasicPlacement(popper: PopperElement): BasicPlacement {\n  const fullPlacement = popper.getAttribute(PLACEMENT_ATTRIBUTE)\n  return (fullPlacement ? fullPlacement.split('-')[0] : '') as BasicPlacement\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function updateTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  theme.split(' ').forEach(themeName => {\n    tooltip.classList[action](themeName + '-theme')\n  })\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = POPPER_CLASS\n  popper.id = `__NAMESPACE_PREFIX__-${id}`\n  popper.style.zIndex = '' + props.zIndex\n\n  if (props.role) {\n    popper.setAttribute('role', props.role)\n  }\n\n  const tooltip = div()\n  tooltip.className = TOOLTIP_CLASS\n  tooltip.style.maxWidth =\n    props.maxWidth + (typeof props.maxWidth === 'number' ? 'px' : '')\n  tooltip.setAttribute('data-size', props.size)\n  tooltip.setAttribute('data-animation', props.animation)\n  tooltip.setAttribute('data-state', 'hidden')\n  updateTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = CONTENT_CLASS\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(popper, tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.appendChild(createArrowElement(props.arrowType))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n  tooltip.setAttribute('data-size', nextProps.size)\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n\n  if (nextProps.role) {\n    popper.setAttribute('role', nextProps.role)\n  } else {\n    popper.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement())\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    tooltip.appendChild(createArrowElement(nextProps.arrowType))\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    tooltip.removeChild(arrow!)\n  }\n\n  // arrowType\n  if (\n    prevProps.arrow &&\n    nextProps.arrow &&\n    prevProps.arrowType !== nextProps.arrowType\n  ) {\n    tooltip.replaceChild(createArrowElement(nextProps.arrowType), arrow!)\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(popper, tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(popper, tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    updateTheme(tooltip, 'remove', prevProps.theme)\n    updateTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Hides all visible poppers on the document\n */\nexport function hideAll({\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}): void {\n  arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(\n    (popper: PopperElement) => {\n      const instance = popper._tippy\n\n      if (instance) {\n        let isExcluded = false\n        if (excludedReferenceOrInstance) {\n          isExcluded = isReferenceElement(excludedReferenceOrInstance)\n            ? instance.reference === excludedReferenceOrInstance\n            : popper === excludedReferenceOrInstance.popper\n        }\n\n        if (!isExcluded) {\n          instance.hide(duration)\n        }\n      }\n    },\n  )\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasicPlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n\n/**\n * Returns the distance offset, taking into account the default offset due to\n * the transform: translate() rule (10px) in CSS\n */\nexport function getOffsetDistanceInPx(distance: number): string {\n  return -(distance - 10) + 'px'\n}\n","import Popper from 'popper.js'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Options,\n  Instance,\n  Content,\n  Listener,\n  VirtualReference,\n} from './types'\nimport { isIE } from './browser'\nimport { closest, closestCallback, arrayFrom } from './ponyfills'\nimport {\n  PASSIVE,\n  PADDING,\n  PLACEMENT_ATTRIBUTE,\n  OUT_OF_BOUNDARIES_ATTRIBUTE,\n  ACTIVE_CLASS,\n  POPPER_SELECTOR,\n} from './constants'\nimport { isUsingTouch } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  getChildren,\n  getBasicPlacement,\n  updateTransitionEndListener,\n  isCursorOutsideInteractiveBorder,\n  getOffsetDistanceInPx,\n  reflow,\n} from './popper'\nimport {\n  hasOwnProperty,\n  debounce,\n  getValue,\n  getModifier,\n  includes,\n  invokeWithArgsOrReturn,\n  setFlipModifierEnabled,\n  canReceiveFocus,\n  validateOptions,\n  evaluateProps,\n  setTransitionDuration,\n  setVisibilityState,\n  isRealElement,\n} from './utils'\n\nlet idCounter = 1\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement | VirtualReference,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= ðŸ”’ Private members ðŸ”’ ======================= */\n  let lastTriggerEventType: string\n  let lastMouseMoveEvent: MouseEvent\n  let showTimeoutId: number\n  let hideTimeoutId: number\n  let animationFrameId: number\n  let isScheduledToShow = false\n  let currentParentNode: Element\n  let previousPlacement: string\n  let wasVisibleDuringPreviousUpdate = false\n  let hasMountCallbackRun = false\n  let currentMountCallback: () => void\n  let currentTransitionEndListener: (event: TransitionEvent) => void\n  let listeners: Listener[] = []\n  let currentComputedPadding: {\n    top: number\n    bottom: number\n    left: number\n    right: number\n    [key: string]: number\n  }\n  let debouncedOnMouseMove =\n    props.interactiveDebounce > 0\n      ? debounce(onMouseMove, props.interactiveDebounce)\n      : onMouseMove\n\n  /* ======================= ðŸ”‘ Public members ðŸ”‘ ======================= */\n  const id = idCounter++\n  const popper = createPopperElement(id, props)\n  const popperChildren = getChildren(popper)\n  const popperInstance: PopperInstance | null = null\n\n  const state = {\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    set,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  /* ==================== Initial instance mutations =================== */\n  reference._tippy = instance\n  popper._tippy = instance\n\n  addTriggersToReference()\n\n  if (!props.lazy) {\n    createPopperInstance()\n  }\n\n  if (props.showOnInit) {\n    scheduleShow()\n  }\n\n  // Ensure the event listeners target can receive focus\n  if (\n    props.a11y &&\n    !props.target &&\n    !canReceiveFocus(getEventListenersTarget())\n  ) {\n    getEventListenersTarget().setAttribute('tabindex', '0')\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', (event: MouseEvent) => {\n    if (\n      instance.props.interactive &&\n      instance.state.isVisible &&\n      lastTriggerEventType === 'mouseenter'\n    ) {\n      // We don't want props.onTrigger() to be called here, since the `event`\n      // object is not related to the reference element\n      scheduleShow(event, true)\n    }\n  })\n  popper.addEventListener('mouseleave', () => {\n    if (instance.props.interactive && lastTriggerEventType === 'mouseenter') {\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n    }\n  })\n\n  return instance\n\n  /* ======================= ðŸ”’ Private methods ðŸ”’ ======================= */\n  /**\n   * Removes the follow cursor listener\n   */\n  function removeFollowCursorListener(): void {\n    document.removeEventListener(\n      'mousemove',\n      positionVirtualReferenceNearCursor,\n    )\n  }\n\n  /**\n   * Cleans up old listeners\n   */\n  function cleanupOldMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n  }\n\n  /**\n   * Returns correct target used for event listeners\n   */\n  function getEventListenersTarget(): ReferenceElement | VirtualReference {\n    return instance.props.triggerTarget || reference\n  }\n\n  /**\n   * Adds the document click event listener for the instance\n   */\n  function addDocumentClickListener(): void {\n    document.addEventListener('click', onDocumentClick, true)\n  }\n\n  /**\n   * Removes the document click event listener for the instance\n   */\n  function removeDocumentClickListener(): void {\n    document.removeEventListener('click', onDocumentClick, true)\n  }\n\n  /**\n   * Returns transitionable inner elements used in show/hide methods\n   */\n  function getTransitionableElements(): (HTMLDivElement | null)[] {\n    return [\n      instance.popperChildren.tooltip,\n      instance.popperChildren.backdrop,\n      instance.popperChildren.content,\n    ]\n  }\n\n  /**\n   * Determines if the instance is in `followCursor` mode\n   */\n  function hasFollowCursorBehavior(): boolean {\n    return (\n      instance.props.followCursor &&\n      !isUsingTouch &&\n      lastTriggerEventType !== 'focus'\n    )\n  }\n\n  /**\n   * Updates the tooltip's position on each animation frame\n   */\n  function makeSticky(): void {\n    setTransitionDuration([popper], isIE ? 0 : instance.props.updateDuration)\n\n    function updatePosition(): void {\n      instance.popperInstance!.scheduleUpdate()\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      } else {\n        setTransitionDuration([popper], 0)\n      }\n    }\n\n    updatePosition()\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned out\n   */\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, () => {\n      if (\n        !instance.state.isVisible &&\n        currentParentNode &&\n        currentParentNode.contains(popper)\n      ) {\n        callback()\n      }\n    })\n  }\n\n  /**\n   * Invokes a callback once the tooltip has fully transitioned in\n   */\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  /**\n   * Invokes a callback once the tooltip's CSS transition ends\n   */\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    const { tooltip } = instance.popperChildren\n\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        updateTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener)\n    updateTransitionEndListener(tooltip, 'add', listener)\n\n    currentTransitionEndListener = listener\n  }\n\n  /**\n   * Adds an event listener to the reference and stores it in `listeners`\n   */\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    getEventListenersTarget().addEventListener(eventType, handler, options)\n    listeners.push({ eventType, handler, options })\n  }\n\n  /**\n   * Adds event listeners to the reference based on the `trigger` prop\n   */\n  function addTriggersToReference(): void {\n    if (instance.props.touchHold && !instance.props.target) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    instance.props.trigger\n      .trim()\n      .split(' ')\n      .forEach(eventType => {\n        if (eventType === 'manual') {\n          return\n        }\n\n        // Non-delegates\n        if (!instance.props.target) {\n          on(eventType, onTrigger)\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseleave', onMouseLeave as EventListener)\n              break\n            case 'focus':\n              on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n              break\n          }\n        } else {\n          // Delegates\n          switch (eventType) {\n            case 'mouseenter':\n              on('mouseover', onDelegateShow)\n              on('mouseout', onDelegateHide)\n              break\n            case 'focus':\n              on('focusin', onDelegateShow)\n              on('focusout', onDelegateHide)\n              break\n            case 'click':\n              on(eventType, onDelegateShow)\n              break\n          }\n        }\n      })\n  }\n\n  /**\n   * Removes event listeners from the reference\n   */\n  function removeTriggersFromReference(): void {\n    listeners.forEach(({ eventType, handler, options }: Listener) => {\n      getEventListenersTarget().removeEventListener(eventType, handler, options)\n    })\n    listeners = []\n  }\n\n  /**\n   * Returns corrected preventOverflow padding if the instance has an arrow\n   */\n  function getCorrectedPadding(placement: string): number {\n    return instance.props.arrow\n      ? currentComputedPadding[placement] +\n          (instance.props.arrowType === 'round' ? 18 : 16)\n      : currentComputedPadding[placement]\n  }\n\n  /**\n   * Positions the virtual reference near the cursor\n   */\n  function positionVirtualReferenceNearCursor(event: MouseEvent): void {\n    const { clientX, clientY } = (lastMouseMoveEvent = event)\n\n    // Gets set once popperInstance `onCreate` has been called\n    if (!currentComputedPadding) {\n      return\n    }\n\n    const rect = reference.getBoundingClientRect()\n    const { followCursor } = instance.props\n    const isHorizontal = followCursor === 'horizontal'\n    const isVertical = followCursor === 'vertical'\n\n    // Ensure virtual reference is padded to prevent tooltip from overflowing.\n    // Seems to be a Popper.js issue\n    const placement = getBasicPlacement(popper)\n    const isVerticalPlacement = includes(['top', 'bottom'], placement)\n    const isHorizontalPlacement = includes(['left', 'right'], placement)\n    const padding = { ...currentComputedPadding }\n\n    if (isVerticalPlacement) {\n      padding.left = getCorrectedPadding('left')\n      padding.right = getCorrectedPadding('right')\n    }\n\n    if (isHorizontalPlacement) {\n      padding.top = getCorrectedPadding('top')\n      padding.bottom = getCorrectedPadding('bottom')\n    }\n\n    // TODO: Remove the following later if Popper.js changes/fixes the\n    // behavior\n\n    // Top / left boundary\n    let x = isVerticalPlacement ? Math.max(padding.left, clientX) : clientX\n    let y = isHorizontalPlacement ? Math.max(padding.top, clientY) : clientY\n\n    // Bottom / right boundary\n    if (isVerticalPlacement && x > padding.right) {\n      x = Math.min(clientX, window.innerWidth - padding.right)\n    }\n    if (isHorizontalPlacement && y > padding.bottom) {\n      y = Math.min(clientY, window.innerHeight - padding.bottom)\n    }\n\n    // If the instance is interactive, avoid updating the position unless it's\n    // over the reference element\n    const isCursorOverReference = closestCallback(\n      event.target as Element,\n      (el: Element) => el === reference,\n    )\n\n    if (isCursorOverReference || !instance.props.interactive) {\n      instance.popperInstance!.reference = {\n        ...instance.popperInstance!.reference,\n        getBoundingClientRect: () => ({\n          width: 0,\n          height: 0,\n          top: isHorizontal ? rect.top : y,\n          bottom: isHorizontal ? rect.bottom : y,\n          left: isVertical ? rect.left : x,\n          right: isVertical ? rect.right : x,\n        }),\n        clientWidth: 0,\n        clientHeight: 0,\n      }\n\n      instance.popperInstance!.scheduleUpdate()\n    }\n\n    if (followCursor === 'initial' && instance.state.isVisible) {\n      removeFollowCursorListener()\n    }\n  }\n\n  /**\n   * Creates the tippy instance for a delegate when it's been triggered\n   */\n  function createDelegateChildTippy(event?: Event): void {\n    if (event) {\n      const targetEl: ReferenceElement | null = closest(\n        event.target as Element,\n        instance.props.target,\n      )\n\n      if (targetEl && !targetEl._tippy) {\n        createTippy(targetEl, {\n          ...instance.props,\n          content: invokeWithArgsOrReturn(collectionProps.content, [targetEl]),\n          appendTo: collectionProps.appendTo,\n          target: '',\n          showOnInit: true,\n        })\n      }\n    }\n  }\n\n  /**\n   * Event listener invoked upon trigger\n   */\n  function onTrigger(event: Event): void {\n    if (!instance.state.isEnabled || isEventListenerStopped(event)) {\n      return\n    }\n\n    if (!instance.state.isVisible) {\n      lastTriggerEventType = event.type\n\n      if (event instanceof MouseEvent) {\n        lastMouseMoveEvent = event\n      }\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide()\n    } else {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener used for interactive tooltips to detect when they should\n   * hide\n   */\n  function onMouseMove(event: MouseEvent): void {\n    const isCursorOverPopper =\n      closest(event.target as Element, POPPER_SELECTOR) === popper\n    const isCursorOverReference = closestCallback(\n      event.target as Element,\n      (el: Element) => el === reference,\n    )\n\n    if (isCursorOverPopper || isCursorOverReference) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getBasicPlacement(popper),\n        popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupOldMouseListeners()\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Event listener invoked upon mouseleave\n   */\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked upon blur\n   */\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== getEventListenersTarget()) {\n      return\n    }\n\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide()\n  }\n\n  /**\n   * Event listener invoked when a child target is triggered\n   */\n  function onDelegateShow(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleShow(event)\n    }\n  }\n\n  /**\n   * Event listener invoked when a child target should hide\n   */\n  function onDelegateHide(event: Event): void {\n    if (closest(event.target as Element, instance.props.target)) {\n      scheduleHide()\n    }\n  }\n\n  /**\n   * Determines if an event listener should stop further execution due to the\n   * `touchHold` option\n   */\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const { touchHold } = instance.props\n\n    return (\n      (supportsTouch && isUsingTouch && touchHold && !isTouchEvent) ||\n      (isUsingTouch && !touchHold && isTouchEvent)\n    )\n  }\n\n  /**\n   * Runs the mount callback\n   */\n  function runMountCallback(): void {\n    if (!hasMountCallbackRun && currentMountCallback) {\n      hasMountCallbackRun = true\n      reflow(popper)\n      currentMountCallback()\n    }\n  }\n\n  /**\n   * Creates the popper instance for the instance\n   */\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { tooltip, arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      // Apply all of the popper's attributes to the tootip node as well.\n      // Allows users to avoid using the .tippy-popper selector for themes.\n      tooltip.setAttribute(PLACEMENT_ATTRIBUTE, data.placement)\n\n      if (data.attributes[OUT_OF_BOUNDARIES_ATTRIBUTE] !== false) {\n        tooltip.setAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE, '')\n      } else {\n        tooltip.removeAttribute(OUT_OF_BOUNDARIES_ATTRIBUTE)\n      }\n\n      // Prevents a transition when changing placements (while tippy is visible)\n      // for scroll/resize updates\n      if (\n        previousPlacement &&\n        previousPlacement !== data.placement &&\n        wasVisibleDuringPreviousUpdate\n      ) {\n        tooltip.style.transition = 'none'\n        requestAnimationFrame(() => {\n          tooltip.style.transition = ''\n        })\n      }\n      previousPlacement = data.placement\n      wasVisibleDuringPreviousUpdate = instance.state.isVisible\n\n      const basicPlacement = getBasicPlacement(popper)\n      const styles = tooltip.style\n\n      // Account for the `distance` offset\n      styles.top = styles.bottom = styles.left = styles.right = ''\n      styles[basicPlacement] = getOffsetDistanceInPx(instance.props.distance)\n\n      const padding =\n        preventOverflowModifier && preventOverflowModifier.padding !== undefined\n          ? preventOverflowModifier.padding\n          : PADDING\n      const isPaddingNumber = typeof padding === 'number'\n\n      const computedPadding = {\n        top: isPaddingNumber ? padding : padding.top,\n        bottom: isPaddingNumber ? padding : padding.bottom,\n        left: isPaddingNumber ? padding : padding.left,\n        right: isPaddingNumber ? padding : padding.right,\n        ...(!isPaddingNumber && padding),\n      }\n\n      computedPadding[basicPlacement] = isPaddingNumber\n        ? padding + instance.props.distance\n        : (padding[basicPlacement] || 0) + instance.props.distance\n\n      instance.popperInstance!.modifiers.filter(\n        m => m.name === 'preventOverflow',\n      )[0].padding = computedPadding\n\n      currentComputedPadding = computedPadding\n    }\n\n    const config = {\n      eventsEnabled: false,\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions ? popperOptions.modifiers : {}),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PADDING,\n          ...preventOverflowModifier,\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          // The tooltip is offset by 10px from the popper in CSS,\n          // we need to account for its distance\n          padding: instance.props.distance + PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      onCreate(data: Popper.Data) {\n        runMountCallback()\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onCreate) {\n          popperOptions.onCreate(data)\n        }\n      },\n      onUpdate(data: Popper.Data) {\n        runMountCallback()\n        applyMutations(data)\n\n        if (popperOptions && popperOptions.onUpdate) {\n          popperOptions.onUpdate(data)\n        }\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      reference,\n      popper,\n      config,\n    ) as PopperInstance\n  }\n\n  /**\n   * Mounts the tooltip to the DOM\n   */\n  function mount(): void {\n    hasMountCallbackRun = false\n\n    const shouldEnableListeners =\n      !hasFollowCursorBehavior() &&\n      !(instance.props.followCursor === 'initial' && isUsingTouch)\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n\n      if (shouldEnableListeners) {\n        instance.popperInstance!.enableEventListeners()\n      }\n    } else {\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance.scheduleUpdate()\n\n        if (shouldEnableListeners) {\n          instance.popperInstance.enableEventListeners()\n        }\n      }\n\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n    }\n\n    // If the instance previously had followCursor behavior, it will be\n    // positioned incorrectly if triggered by `focus` afterwards.\n    // Update the reference back to the real DOM element\n    instance.popperInstance!.reference = reference\n    const { arrow } = instance.popperChildren\n\n    if (hasFollowCursorBehavior()) {\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n\n      if (lastMouseMoveEvent) {\n        positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n      }\n    } else if (arrow) {\n      arrow.style.margin = ''\n    }\n\n    // Allow followCursor: 'initial' on touch devices\n    if (\n      isUsingTouch &&\n      lastMouseMoveEvent &&\n      instance.props.followCursor === 'initial'\n    ) {\n      positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n\n      if (arrow) {\n        arrow.style.margin = '0'\n      }\n    }\n\n    const { appendTo } = instance.props\n\n    currentParentNode =\n      appendTo === 'parent'\n        ? reference.parentNode\n        : invokeWithArgsOrReturn(appendTo, [reference])\n\n    if (!currentParentNode.contains(popper)) {\n      currentParentNode.appendChild(popper)\n      instance.props.onMount(instance)\n      instance.state.isMounted = true\n    }\n  }\n\n  /**\n   * Setup before show() is invoked (delays, etc.)\n   */\n  function scheduleShow(\n    event?: Event,\n    shouldAvoidCallingOnTrigger?: boolean,\n  ): void {\n    clearDelayTimeouts()\n\n    if (instance.state.isVisible) {\n      return\n    }\n\n    // Is a delegate, create an instance for the child target\n    if (instance.props.target) {\n      return createDelegateChildTippy(event)\n    }\n\n    isScheduledToShow = true\n\n    if (event && !shouldAvoidCallingOnTrigger) {\n      instance.props.onTrigger(instance, event)\n    }\n\n    if (instance.props.wait) {\n      return instance.props.wait(instance, event)\n    }\n\n    // If the tooltip has a delay, we need to be listening to the mousemove as\n    // soon as the trigger event is fired, so that it's in the correct position\n    // upon mount.\n    // Edge case: if the tooltip is still mounted, but then scheduleShow() is\n    // called, it causes a jump.\n    if (hasFollowCursorBehavior() && !instance.state.isMounted) {\n      if (!instance.popperInstance) {\n        createPopperInstance()\n      }\n\n      document.addEventListener('mousemove', positionVirtualReferenceNearCursor)\n    }\n\n    addDocumentClickListener()\n\n    const delay = getValue(instance.props.delay, 0, defaultProps.delay)\n\n    if (delay) {\n      showTimeoutId = setTimeout(() => {\n        show()\n      }, delay)\n    } else {\n      show()\n    }\n  }\n\n  /**\n   * Setup before hide() is invoked (delays, etc.)\n   */\n  function scheduleHide(): void {\n    clearDelayTimeouts()\n\n    if (!instance.state.isVisible) {\n      return removeFollowCursorListener()\n    }\n\n    isScheduledToShow = false\n\n    const delay = getValue(instance.props.delay, 1, defaultProps.delay)\n\n    if (delay) {\n      hideTimeoutId = setTimeout(() => {\n        if (instance.state.isVisible) {\n          hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      animationFrameId = requestAnimationFrame(() => {\n        hide()\n      })\n    }\n  }\n\n  /**\n   * Listener to handle clicks on the document to determine if the\n   * instance should hide\n   */\n  function onDocumentClick(event: MouseEvent): void {\n    // Clicked on interactive popper\n    if (\n      instance.props.interactive &&\n      popper.contains(event.target as Element)\n    ) {\n      return\n    }\n\n    // Clicked on the event listeners target\n    if (getEventListenersTarget().contains(event.target as Element)) {\n      if (isUsingTouch) {\n        return\n      }\n\n      if (\n        instance.state.isVisible &&\n        includes(instance.props.trigger, 'click')\n      ) {\n        return\n      }\n    }\n\n    if (instance.props.hideOnClick === true) {\n      clearDelayTimeouts()\n      hide()\n    }\n  }\n\n  /* ======================= ðŸ”‘ Public methods ðŸ”‘ ======================= */\n  /**\n   * Enables the instance to allow it to show or hide\n   */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  /**\n   * Disables the instance to disallow it to show or hide\n   */\n  function disable(): void {\n    instance.state.isEnabled = false\n  }\n\n  /**\n   * Clears pending timeouts related to the `delay` prop if any\n   */\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeoutId)\n    clearTimeout(hideTimeoutId)\n    cancelAnimationFrame(animationFrameId)\n  }\n\n  /**\n   * Sets new props for the instance and redraws the tooltip\n   */\n  function set(options: Options): void {\n    // Backwards-compatible after TypeScript change\n    options = options || {}\n\n    validateOptions(options, defaultProps)\n\n    removeTriggersFromReference()\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(reference, {\n      ...instance.props,\n      ...options,\n      ignoreAttributes: true,\n    })\n    nextProps.ignoreAttributes = hasOwnProperty(options, 'ignoreAttributes')\n      ? options.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n    instance.props = nextProps\n\n    addTriggersToReference()\n\n    cleanupOldMouseListeners()\n    debouncedOnMouseMove = debounce(\n      onMouseMove,\n      options.interactiveDebounce || 0,\n    )\n\n    updatePopperElement(popper, prevProps, nextProps)\n    instance.popperChildren = getChildren(popper)\n\n    if (instance.popperInstance) {\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some(prop => {\n          return (\n            hasOwnProperty(options, prop) && options[prop] !== prevProps[prop]\n          )\n        })\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n\n        if (instance.state.isVisible) {\n          instance.popperInstance.enableEventListeners()\n        }\n\n        if (instance.props.followCursor && lastMouseMoveEvent) {\n          positionVirtualReferenceNearCursor(lastMouseMoveEvent)\n        }\n      } else {\n        instance.popperInstance.update()\n      }\n    }\n  }\n\n  /**\n   * Shortcut for .set({ content: newContent })\n   */\n  function setContent(content: Content): void {\n    set({ content })\n  }\n\n  /**\n   * Shows the tooltip\n   */\n  function show(\n    duration: number = getValue(\n      instance.props.duration,\n      0,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (\n      instance.state.isDestroyed ||\n      !instance.state.isEnabled ||\n      (isUsingTouch && !instance.props.touch)\n    ) {\n      return\n    }\n\n    // Standardize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getEventListenersTarget().hasAttribute('disabled')) {\n      return\n    }\n\n    if (instance.props.onShow(instance) === false) {\n      return\n    }\n\n    addDocumentClickListener()\n\n    popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    if (instance.props.interactive) {\n      getEventListenersTarget().classList.add(ACTIVE_CLASS)\n    }\n\n    // Prevent a transition if the popper is at the opposite placement\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements.concat(popper), 0)\n\n    currentMountCallback = () => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      // Double update will apply correct mutations\n      if (!hasFollowCursorBehavior()) {\n        instance.popperInstance!.update()\n      }\n\n      if (instance.popperChildren.backdrop) {\n        instance.popperChildren.content.style.transitionDelay =\n          Math.round(duration / 12) + 'ms'\n      }\n\n      if (instance.props.sticky) {\n        makeSticky()\n      }\n\n      setTransitionDuration([popper], instance.props.updateDuration)\n      setTransitionDuration(transitionableElements, duration)\n      setVisibilityState(transitionableElements, 'visible')\n\n      onTransitionedIn(duration, () => {\n        if (instance.props.aria) {\n          getEventListenersTarget().setAttribute(\n            `aria-${instance.props.aria}`,\n            popper.id,\n          )\n        }\n\n        instance.props.onShown(instance)\n        instance.state.isShown = true\n      })\n    }\n\n    mount()\n  }\n\n  /**\n   * Hides the tooltip\n   */\n  function hide(\n    duration: number = getValue(\n      instance.props.duration,\n      1,\n      (defaultProps.duration as [number, number])[1],\n    ),\n  ): void {\n    if (instance.state.isDestroyed || !instance.state.isEnabled) {\n      return\n    }\n\n    if (instance.props.onHide(instance) === false) {\n      return\n    }\n\n    removeDocumentClickListener()\n\n    popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n    wasVisibleDuringPreviousUpdate = false\n\n    if (instance.props.interactive) {\n      getEventListenersTarget().classList.remove(ACTIVE_CLASS)\n    }\n\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements, duration)\n    setVisibilityState(transitionableElements, 'hidden')\n\n    onTransitionedOut(duration, () => {\n      if (!isScheduledToShow) {\n        removeFollowCursorListener()\n      }\n\n      if (instance.props.aria) {\n        getEventListenersTarget().removeAttribute(`aria-${instance.props.aria}`)\n      }\n\n      instance.popperInstance!.disableEventListeners()\n      instance.popperInstance!.options.placement = instance.props.placement\n\n      currentParentNode.removeChild(popper)\n      instance.props.onHidden(instance)\n      instance.state.isMounted = false\n    })\n  }\n\n  /**\n   * Destroys the tooltip\n   */\n  function destroy(destroyTargetInstances?: boolean): void {\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    // If the popper is currently mounted to the DOM, we want to ensure it gets\n    // hidden and unmounted instantly upon destruction\n    if (instance.state.isMounted) {\n      hide(0)\n    }\n\n    removeTriggersFromReference()\n\n    delete reference._tippy\n\n    const { target } = instance.props\n    if (target && destroyTargetInstances && isRealElement(reference)) {\n      arrayFrom(reference.querySelectorAll(target)).forEach(\n        (child: ReferenceElement) => {\n          if (child._tippy) {\n            child._tippy.destroy()\n          }\n        },\n      )\n    }\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    instance.state.isDestroyed = true\n  }\n}\n","import { version } from '../package.json'\nimport { isBrowser } from './browser'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners from './bindGlobalEventListeners'\nimport group from './group'\nimport { polyfillElementPrototypeProperties } from './reference'\nimport { arrayFrom } from './ponyfills'\nimport { hideAll } from './popper'\nimport {\n  isSingular,\n  isBareVirtualElement,\n  getArrayOfElements,\n  validateOptions,\n} from './utils'\nimport { Options, Props, Instance, Targets, VirtualReference } from './types'\n\nlet globalEventListenersBound = false\n\n/**\n * Exported module\n */\nfunction tippy(targets: Targets, options?: Options): Instance | Instance[] {\n  validateOptions(options || {}, defaultProps)\n\n  if (!globalEventListenersBound) {\n    bindGlobalEventListeners()\n    globalEventListenersBound = true\n  }\n\n  const props: Props = { ...defaultProps, ...options }\n\n  // If they are specifying a virtual positioning reference, we need to polyfill\n  // some native DOM props\n  if (isBareVirtualElement(targets)) {\n    polyfillElementPrototypeProperties(targets as VirtualReference)\n  }\n\n  const instances = getArrayOfElements(targets).reduce<Instance[]>(\n    (acc, reference) => {\n      const instance = reference && createTippy(reference, props)\n\n      if (instance) {\n        acc.push(instance)\n      }\n\n      return acc\n    },\n    [],\n  )\n\n  return isSingular(targets) ? instances[0] : instances\n}\n\n/**\n * Static props\n */\ntippy.version = version\ntippy.defaults = defaultProps\n\n/**\n * Static methods\n */\ntippy.setDefaults = (partialDefaults: Options) => {\n  Object.keys(partialDefaults).forEach(key => {\n    // @ts-ignore\n    defaultProps[key] = partialDefaults[key]\n  })\n}\ntippy.hideAll = hideAll\ntippy.group = group\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport function autoInit(): void {\n  arrayFrom(document.querySelectorAll('[data-tippy]')).forEach(el => {\n    const content = el.getAttribute('data-tippy')\n\n    if (content) {\n      tippy(el, { content })\n    }\n  })\n}\n\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n\nexport default tippy\n","import { GroupedInstance, GroupOptions } from './types'\n\n/**\n * Groups an array of instances by taking control of their props during\n * certain lifecycles.\n */\nexport default function group(\n  instances: GroupedInstance[],\n  { delay = instances[0].props.delay, duration = 0 }: GroupOptions = {},\n): void {\n  let isAnyTippyOpen = false\n\n  instances.forEach(instance => {\n    if (instance._originalProps) {\n      instance.set(instance._originalProps)\n    } else {\n      instance._originalProps = { ...instance.props }\n    }\n  })\n\n  function setIsAnyTippyOpen(value: boolean): void {\n    isAnyTippyOpen = value\n    updateInstances()\n  }\n\n  function onShow(instance: GroupedInstance): void {\n    instance._originalProps.onShow(instance)\n\n    instances.forEach(instance => {\n      instance.set({ duration })\n\n      if (instance.state.isVisible) {\n        instance.hide()\n      }\n    })\n\n    setIsAnyTippyOpen(true)\n  }\n\n  function onHide(instance: GroupedInstance): void {\n    instance._originalProps.onHide(instance)\n    setIsAnyTippyOpen(false)\n  }\n\n  function onShown(instance: GroupedInstance): void {\n    instance._originalProps.onShown(instance)\n    instance.set({ duration: instance._originalProps.duration })\n  }\n\n  function updateInstances(): void {\n    instances.forEach(instance => {\n      instance.set({\n        onShow,\n        onShown,\n        onHide,\n        delay: isAnyTippyOpen\n          ? [0, Array.isArray(delay) ? delay[1] : delay]\n          : delay,\n        duration: isAnyTippyOpen ? duration : instance._originalProps.duration,\n      })\n    })\n  }\n\n  updateInstances()\n}\n"],"names":["isBrowser","window","document","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","MSStream","defaultProps","a11y","allowHTML","animateFill","animation","appendTo","body","aria","arrow","arrowType","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","followCursor","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onHidden","onHide","onMount","onShow","onShown","onTrigger","placement","popperOptions","role","showOnInit","size","sticky","target","theme","touch","touchHold","trigger","triggerTarget","updateDuration","wait","zIndex","POPPER_INSTANCE_DEPENDENCIES","elementProto","Element","prototype","matches","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","arrayFrom","value","slice","call","closest","element","selector","closestCallback","el","callback","parentElement","PASSIVE","passive","PADDING","PLACEMENT_ATTRIBUTE","OUT_OF_BOUNDARIES_ATTRIBUTE","IOS_CLASS","ACTIVE_CLASS","POPPER_CLASS","TOOLTIP_CLASS","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","ROUND_ARROW_CLASS","POPPER_SELECTOR","TOOLTIP_SELECTOR","CONTENT_SELECTOR","BACKDROP_SELECTOR","ARROW_SELECTOR","ROUND_ARROW_SELECTOR","isUsingTouch","onDocumentTouch","classList","add","performance","addEventListener","onDocumentMouseMove","lastMouseMoveTime","now","removeEventListener","remove","onWindowBlur","activeElement","blur","_tippy","keys","Object","hasOwnProperty","obj","key","getValue","index","defaultValue","Array","isArray","v","debounce","fn","ms","timeoutId","clearTimeout","setTimeout","apply","_this","arguments","getModifier","modifiers","includes","a","b","indexOf","isRealElement","isSingular","invokeWithArgsOrReturn","args","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","setTransitionDuration","els","forEach","style","transitionDuration","setVisibilityState","state","setAttribute","evaluateProps","reference","props","out","reduce","acc","valueAsString","getAttribute","trim","JSON","parse","e","getDataAttributeOptions","validateOptions","options","option","Error","setInnerHTML","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","backdrop","addInertia","createArrowElement","className","createBackdropElement","addInteractive","updateTransitionEndListener","action","listener","eventName","undefined","webkitTransition","getBasicPlacement","fullPlacement","split","updateTheme","themeName","createPopperElement","id","updatePopperElement","prevProps","nextProps","removeAttribute","removeChild","replaceChild","removeInteractive","removeInertia","idCounter","createTippy","collectionProps","lastTriggerEventType","lastMouseMoveEvent","showTimeoutId","hideTimeoutId","animationFrameId","currentParentNode","previousPlacement","currentMountCallback","currentTransitionEndListener","currentComputedPadding","isScheduledToShow","wasVisibleDuringPreviousUpdate","hasMountCallbackRun","listeners","debouncedOnMouseMove","onMouseMove","popperChildren","instance","popperInstance","isEnabled","isVisible","isDestroyed","isMounted","isShown","clearDelayTimeouts","set","show","hide","enable","disable","destroy","destroyTargetInstances","removeTriggersFromReference","querySelectorAll","child","addTriggersToReference","createPopperInstance","scheduleShow","getEventListenersTarget","hasAttribute","event","removeFollowCursorListener","positionVirtualReferenceNearCursor","cleanupOldMouseListeners","scheduleHide","addDocumentClickListener","onDocumentClick","getTransitionableElements","hasFollowCursorBehavior","onTransitionEnd","on","eventType","handler","push","onMouseLeave","onDelegateShow","onDelegateHide","onBlur","getCorrectedPadding","clientX","clientY","rect","getBoundingClientRect","isHorizontal","isVertical","isVerticalPlacement","isHorizontalPlacement","padding","left","right","top","bottom","x","Math","max","y","min","innerWidth","innerHeight","width","height","clientWidth","clientHeight","scheduleUpdate","isEventListenerStopped","type","MouseEvent","isCursorOverPopper","isCursorOverReference","popperPlacement","popperRect","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","relatedTarget","contains","supportsTouch","isTouchEvent","runMountCallback","offsetHeight","reflow","preventOverflowModifier","applyMutations","data","flipped","attributes","transition","requestAnimationFrame","basicPlacement","styles","isPaddingNumber","computedPadding","config","eventsEnabled","preventOverflow","boundariesElement","behavior","onCreate","onUpdate","Popper","shouldAvoidCallingOnTrigger","targetEl","createDelegateChildTippy","cancelAnimationFrame","some","prop","enableEventListeners","update","visibility","transitionableElements","concat","transitionDelay","round","updatePosition","onTransitionedIn","shouldEnableListeners","margin","parentNode","mount","onTransitionedOut","disableEventListeners","globalEventListenersBound","tippy","targets","toString","virtualReference","polyfills","isVirtual","classNames","polyfillElementPrototypeProperties","instances","NodeList","getArrayOfElements","version","defaults","setDefaults","partialDefaults","hideAll","excludedReferenceOrInstance","exclude","isExcluded","group","isAnyTippyOpen","setIsAnyTippyOpen","updateInstances","_originalProps"],"mappings":"seAAaA,EACO,oBAAXC,QAA8C,oBAAbC,SAEpCC,EAAKH,EAAYI,UAAUC,UAAY,GAEhCC,EAAO,kBAAkBC,KAAKJ,GAC9BK,EAAc,cAAcD,KAAKJ,GACjCM,EACXT,GACA,mBAAmBO,KAAKH,UAAUM,YAChCT,OAAeU,SCRNC,EAAsB,CACjCC,MAAM,EACNC,WAAW,EACXC,aAAa,EACbC,UAAW,aACXC,SAAU,kBAAMf,SAASgB,MACzBC,KAAM,cACNC,OAAO,EACPC,UAAW,QACXC,SAAU,eACVC,QAAS,GACTC,MAAO,EACPC,SAAU,GACVC,SAAU,CAAC,IAAK,KAChBC,MAAM,EACNC,aAAc,OACdC,cAAc,EACdC,cAAc,EACdC,aAAa,EACbC,kBAAkB,EAClBC,SAAS,EACTC,aAAa,EACbC,kBAAmB,EACnBC,oBAAqB,EACrBC,MAAM,EACNC,SAAU,IACVC,UAAU,EACVC,OAAQ,EACRC,sBACAC,oBACAC,qBACAC,oBACAC,qBACAC,uBACAC,UAAW,MACXC,cAAe,GACfC,KAAM,UACNC,YAAY,EACZC,KAAM,UACNC,QAAQ,EACRC,OAAQ,GACRC,MAAO,OACPC,OAAO,EACPC,WAAW,EACXC,QAAS,mBACTC,cAAe,KACfC,eAAgB,EAChBC,KAAM,KACNC,OAAQ,MAOGC,EAAmD,CAC9D,QACA,YACA,WACA,WACA,OACA,eACA,eACA,SACA,YACA,iBCjEIC,EAAoC/D,EAAYgE,QAAQC,UAAY,GAE7DC,EACXH,EAAaG,SACbH,EAAaI,iBACbJ,EAAaK,uBACbL,EAAaM,oBACbN,EAAaO,kBAKR,SAASC,EAAUC,SACjB,GAAGC,MAAMC,KAAKF,GAMhB,SAASG,EAAQC,EAAkBC,UACjCC,EAAgBF,EAAS,SAACG,UAAgBb,EAAQQ,KAAKK,EAAIF,KAM7D,SAASC,EACdF,EACAI,QAEOJ,GAAS,IACVI,EAASJ,UACJA,EAGTA,EAAUA,EAAQK,qBAGb,KCvCF,IAAMC,EAAU,CAAEC,SAAS,GAGrBC,EAAU,EAIVC,EAAsB,cACtBC,EAA8B,sBAG9BC,cACAC,iBACAC,iBACAC,kBACAC,kBACAC,mBACAC,gBACAC,qBAGAC,aAAsBN,GACtBO,aAAuBN,GACvBO,aAAuBN,GACvBO,aAAwBN,GACxBO,aAAqBN,GACrBO,aAA2BN,GCxB7BO,GAAe,EAEnB,SAASC,IACVD,IAIJA,GAAe,EAEX5F,GACFP,SAASgB,KAAKqF,UAAUC,IAAIjB,GAG1BtF,OAAOwG,aACTvG,SAASwG,iBAAiB,YAAaC,IAI3C,IAAIC,EAAoB,EACjB,SAASD,QACRE,EAAMJ,YAAYI,MAGpBA,EAAMD,EAAoB,KAC5BP,GAAe,EAEfnG,SAAS4G,oBAAoB,YAAaH,GAErClG,GACHP,SAASgB,KAAKqF,UAAUQ,OAAOxB,IAInCqB,EAAoBC,EAGf,SAASG,QACNC,EAA0C/G,SAA1C+G,cAEJA,GAAiBA,EAAcC,MAAQD,EAAcE,QACvDF,EAAcC,WCxCZE,EAAOC,OAAOD,KAAKxG,GC+BlB,SAAS0G,EAAeC,EAAaC,SACnC,GAAGF,eAAe5C,KAAK6C,EAAKC,GA8B9B,SAASC,EAASjD,EAAYkD,EAAeC,MAC9CC,MAAMC,QAAQrD,GAAQ,KAClBsD,EAAItD,EAAMkD,UACJ,MAALI,EAAYH,EAAeG,SAG7BtD,EAMF,SAASuD,EAASC,EAAcC,OACjCC,SAEG,kCACLC,aAAaD,GAEbA,EAAYE,WAAW,kBAAMJ,EAAGK,MAAMC,EAAMC,IAAYN,IAQrD,SAASO,EAAYjB,EAAUC,UAC7BD,GAAOA,EAAIkB,WAAalB,EAAIkB,UAAUjB,GAMxC,SAASkB,EAASC,EAAmBC,UACnCD,EAAEE,QAAQD,IAAM,EAMlB,SAASE,EAActE,UACrBA,aAAiBR,QAMnB,SAAS+E,EAAWvE,YACfA,IAAS8C,EAAe9C,EAAO,eAAiBsE,EAActE,GAanE,SAASwE,EAAuBxE,EAAYyE,SACzB,mBAAVzE,EAAuBA,EAAM6D,MAAM,KAAMY,GAAQzE,EAM1D,SAAS0E,EAAuBT,EAAkBjE,GACvDiE,EAAUU,OAAO,SAAAC,SAAgB,SAAXA,EAAEC,OAAiB,GAAGC,QAAU9E,EAmBjD,SAAS+E,WACPrJ,SAASsJ,cAAc,OAMzB,SAASC,EACdC,EACAlF,GAEAkF,EAAIC,QAAQ,SAAA5E,GACNA,IACFA,EAAG6E,MAAMC,6BAAwBrF,WAQhC,SAASsF,EACdJ,EACAK,GAEAL,EAAIC,QAAQ,SAAA5E,GACNA,GACFA,EAAGiF,aAAa,aAAcD,KAS7B,SAASE,EACdC,EACAC,OAEMC,OACDD,GACH5I,QAASyH,EAAuBmB,EAAM5I,QAAS,CAAC2I,KAC5CC,EAAMnI,iBAAmB,GD5L1B,SACLkI,UAEO9C,EAAKiD,OAAO,SAACC,EAAU9C,OACtB+C,GACJL,EAAUM,kCAA2BhD,KAAU,IAC/CiD,WAEGF,SACID,KAGG,YAAR9C,EACF8C,EAAI9C,GAAO+C,WAGTD,EAAI9C,GAAOkD,KAAKC,MAAMJ,GACtB,MAAOK,GACPN,EAAI9C,GAAO+C,SAIRD,GACN,ICqKiCO,CAAwBX,WAGxDE,EAAIhJ,OAASZ,KACf4J,EAAIrJ,aAAc,GAGbqJ,EAMF,SAASU,EAAgBC,EAAkBnK,GAChDyG,OAAOD,KAAK2D,GAASpB,QAAQ,SAAAqB,OACtB1D,EAAe1G,EAAcoK,SAC1B,IAAIC,0BAAoBD,gCCvL7B,SAASE,EAAatG,EAAkBuG,GAC7CvG,EAAO,UAAgBkE,EAAcqC,GAAQA,EAAI,UAAgBA,EAM5D,SAASC,EACdC,EACAlB,MAEIrB,EAAcqB,EAAM5I,SACtB2J,EAAaG,EAAW,IACxBA,EAAUC,YAAYnB,EAAM5I,cACvB,GAA6B,mBAAlB4I,EAAM5I,QAAwB,CAI9C8J,EAHyClB,EAAMrJ,UAC3C,YACA,eACaqJ,EAAM5I,SAOpB,SAASgK,GAAYC,SACnB,CACLC,QAASD,EAAOE,cAAc1F,GAC9B2F,SAAUH,EAAOE,cAAcxF,GAC/B3E,QAASiK,EAAOE,cAAczF,GAC9B7E,MACEoK,EAAOE,cAAcvF,IACrBqF,EAAOE,cAActF,IAOpB,SAASwF,GAAWH,GACzBA,EAAQzB,aAAa,eAAgB,IAahC,SAAS6B,GACdxK,OAEMD,EAAQmI,UACI,UAAdlI,GACFD,EAAM0K,UAAYhG,EAClBoF,EACE9J,EACA,oMAGFA,EAAM0K,UAAYjG,EAEbzE,EAMF,SAAS2K,SACRJ,EAAWpC,WACjBoC,EAASG,UAAYlG,EACrB+F,EAAS3B,aAAa,aAAc,UAC7B2B,EAMF,SAASK,GACdR,EACAC,GAEAD,EAAOxB,aAAa,WAAY,MAChCyB,EAAQzB,aAAa,mBAAoB,IAiBpC,SAASiC,GACdR,EACAS,EACAC,OAIMC,EACJ5L,QAAwD6L,IAAzCnM,SAASgB,KAAK0I,MAAM0C,iBAC/B,sBACA,gBACNb,EACGS,EAAS,iBACVE,EAAWD,GAMR,SAASI,GAAkBf,OAC1BgB,EAAgBhB,EAAOhB,aAAanF,UAClCmH,EAAgBA,EAAcC,MAAM,KAAK,GAAK,GAajD,SAASC,GACdjB,EACAS,EACA5I,GAEAA,EAAMmJ,MAAM,KAAK9C,QAAQ,SAAAgD,GACvBlB,EAAQlF,UAAU2F,GAAQS,EAAY,YAOnC,SAASC,GAAoBC,EAAY1C,OACxCqB,EAASjC,IACfiC,EAAOM,UAAYrG,EACnB+F,EAAOqB,mBAA6BA,GACpCrB,EAAO5B,MAAM/F,OAAS,GAAKsG,EAAMtG,OAE7BsG,EAAMlH,MACRuI,EAAOxB,aAAa,OAAQG,EAAMlH,UAG9BwI,EAAUlC,IAChBkC,EAAQK,UAAYpG,EACpB+F,EAAQ7B,MAAMtH,SACZ6H,EAAM7H,UAAsC,iBAAnB6H,EAAM7H,SAAwB,KAAO,IAChEmJ,EAAQzB,aAAa,YAAaG,EAAMhH,MACxCsI,EAAQzB,aAAa,iBAAkBG,EAAMnJ,WAC7CyK,EAAQzB,aAAa,aAAc,UACnC0C,GAAYjB,EAAS,MAAOtB,EAAM7G,WAE5B/B,EAAUgI,WAChBhI,EAAQuK,UAAYnG,EACpBpE,EAAQyI,aAAa,aAAc,UAE/BG,EAAMjI,aACR8J,GAAeR,EAAQC,GAGrBtB,EAAM/I,OACRqK,EAAQH,YAAYO,GAAmB1B,EAAM9I,YAG3C8I,EAAMpJ,cACR0K,EAAQH,YAAYS,MACpBN,EAAQzB,aAAa,mBAAoB,KAGvCG,EAAMlI,SACR2J,GAAWH,GAGbL,EAAW7J,EAAS4I,GAEpBsB,EAAQH,YAAY/J,GACpBiK,EAAOF,YAAYG,GAEZD,EAMF,SAASsB,GACdtB,EACAuB,EACAC,SAE8CzB,GAAYC,GAAlDC,IAAAA,QAASlK,IAAAA,QAASoK,IAAAA,SAAUvK,IAAAA,MAEpCoK,EAAO5B,MAAM/F,OAAS,GAAKmJ,EAAUnJ,OACrC4H,EAAQzB,aAAa,YAAagD,EAAU7J,MAC5CsI,EAAQzB,aAAa,iBAAkBgD,EAAUhM,WACjDyK,EAAQ7B,MAAMtH,SACZ0K,EAAU1K,UAA0C,iBAAvB0K,EAAU1K,SAAwB,KAAO,IAEpE0K,EAAU/J,KACZuI,EAAOxB,aAAa,OAAQgD,EAAU/J,MAEtCuI,EAAOyB,gBAAgB,QAGrBF,EAAUxL,UAAYyL,EAAUzL,SAClC6J,EAAW7J,EAASyL,IAIjBD,EAAUhM,aAAeiM,EAAUjM,aACtC0K,EAAQH,YAAYS,MACpBN,EAAQzB,aAAa,mBAAoB,KAChC+C,EAAUhM,cAAgBiM,EAAUjM,cAC7C0K,EAAQyB,YAAYvB,GACpBF,EAAQwB,gBAAgB,sBAIrBF,EAAU3L,OAAS4L,EAAU5L,MAChCqK,EAAQH,YAAYO,GAAmBmB,EAAU3L,YACxC0L,EAAU3L,QAAU4L,EAAU5L,OACvCqK,EAAQyB,YAAY9L,GAKpB2L,EAAU3L,OACV4L,EAAU5L,OACV2L,EAAU1L,YAAc2L,EAAU3L,WAElCoK,EAAQ0B,aAAatB,GAAmBmB,EAAU3L,WAAYD,IAI3D2L,EAAU7K,aAAe8K,EAAU9K,YACtC8J,GAAeR,EAAQC,GACdsB,EAAU7K,cAAgB8K,EAAU9K,aAhK1C,SACLsJ,EACAC,GAEAD,EAAOyB,gBAAgB,YACvBxB,EAAQwB,gBAAgB,oBA4JtBG,CAAkB5B,EAAQC,IAIvBsB,EAAU9K,SAAW+K,EAAU/K,QAClC2J,GAAWH,GACFsB,EAAU9K,UAAY+K,EAAU/K,SAtNtC,SAAuBwJ,GAC5BA,EAAQwB,gBAAgB,gBAsNtBI,CAAc5B,GAIZsB,EAAUzJ,QAAU0J,EAAU1J,QAChCoJ,GAAYjB,EAAS,SAAUsB,EAAUzJ,OACzCoJ,GAAYjB,EAAS,MAAOuB,EAAU1J,QCvP1C,IAAIgK,GAAY,EAOD,SAASC,GACtBrD,EACAsD,OAUIC,EACAC,EACAC,EACAC,EACAC,EAZE1D,EAAQF,EAAcC,EAAWsD,OAGlCrD,EAAM5H,UAAY2H,EAAU/C,cACxB,SAUL2G,EACAC,EAGAC,EACAC,EAEAC,EF4D0BtJ,EEpE1BuJ,GAAoB,EAGpBC,GAAiC,EACjCC,GAAsB,EAGtBC,EAAwB,GAQxBC,EACFpE,EAAM/H,oBAAsB,EACxB2F,EAASyG,GAAarE,EAAM/H,qBAC5BoM,GAGA3B,EAAKS,KACL9B,EAASoB,GAAoBC,EAAI1C,GACjCsE,EAAiBlD,GAAYC,GAgB7BkD,EAAqB,CAEzB7B,GAAAA,EACA3C,UAAAA,EACAsB,OAAAA,EACAiD,eAAAA,EACAE,eArB4C,KAsB5CxE,MAAAA,EACAJ,MArBY,CAEZ6E,WAAW,EAEXC,WAAW,EAEXC,aAAa,EAEbC,WAAW,EAEXC,SAAS,GAaTC,mBAAAA,GACAC,IAAAA,GACA9D,oBA04BkB7J,GAClB2N,GAAI,CAAE3N,QAAAA,KA14BN4N,KAAAA,GACAC,KAAAA,GACAC,kBAwzBAX,EAAS3E,MAAM6E,WAAY,GAvzB3BU,mBA8zBAZ,EAAS3E,MAAM6E,WAAY,GA7zB3BW,iBAghCeC,MACXd,EAAS3E,MAAM+E,mBAMfJ,EAAS3E,MAAMgF,WACjBK,GAAK,GAGPK,YAEOvF,EAAU/C,WAET9D,EAAWqL,EAASvE,MAApB9G,OACJA,GAAUmM,GAA0B1G,EAAcoB,IACpD3F,EAAU2F,EAAUwF,iBAAiBrM,IAASsG,QAC5C,SAACgG,GACKA,EAAMxI,QACRwI,EAAMxI,OAAOoI,YAMjBb,EAASC,gBACXD,EAASC,eAAeY,UAG1Bb,EAAS3E,MAAM+E,aAAc,WA1iC/B5E,EAAU/C,OAASuH,EACnBlD,EAAOrE,OAASuH,EAEhBkB,KAEKzF,EAAM9H,MACTwN,KAGE1F,EAAMjH,YACR4M,MAKA3F,EAAMtJ,MACLsJ,EAAM9G,UFPFyF,EADuBlE,EESXmL,MFPf7L,EAAQQ,KACNE,EACA,+EACIA,EAAQoL,aAAa,cEM7BD,IAA0B/F,aAAa,WAAY,KAKrDwB,EAAO9E,iBAAiB,aAAc,SAACuJ,GAEnCvB,EAASvE,MAAMjI,aACfwM,EAAS3E,MAAM8E,WACU,eAAzBpB,GAIAqC,GAAaG,GAAO,KAGxBzE,EAAO9E,iBAAiB,aAAc,WAChCgI,EAASvE,MAAMjI,aAAwC,eAAzBuL,GAChCvN,SAASwG,iBAAiB,YAAa6H,KAIpCG,WAMEwB,IACPhQ,SAAS4G,oBACP,YACAqJ,aAOKC,IACPlQ,SAASgB,KAAK4F,oBAAoB,aAAcuJ,IAChDnQ,SAAS4G,oBAAoB,YAAayH,YAMnCwB,WACArB,EAASvE,MAAMzG,eAAiBwG,WAMhCoG,KACPpQ,SAASwG,iBAAiB,QAAS6J,IAAiB,YAa7CC,WACA,CACL9B,EAASD,eAAehD,QACxBiD,EAASD,eAAe9C,SACxB+C,EAASD,eAAelN,kBAOnBkP,YAEL/B,EAASvE,MAAMrI,eACduE,GACwB,UAAzBoH,WAgDKiD,GAAgBhP,EAAkBsD,OACjCyG,EAAYiD,EAASD,eAArBhD,iBAKCU,EAAS8D,GACZA,EAAM5M,SAAWoI,IACnBQ,GAA4BR,EAAS,SAAUU,GAC/CnH,QAMa,IAAbtD,SACKsD,IAGTiH,GAA4BR,EAAS,SAAUwC,GAC/ChC,GAA4BR,EAAS,MAAOU,GAE5C8B,EAA+B9B,WAMxBwE,GACPC,EACAC,OACA9F,0DAEAgF,IAA0BrJ,iBAAiBkK,EAAWC,EAAS9F,GAC/DuD,EAAUwC,KAAK,CAAEF,UAAAA,EAAWC,QAAAA,EAAS9F,QAAAA,aAM9B6E,KACHlB,EAASvE,MAAM3G,YAAckL,EAASvE,MAAM9G,SAC9CsN,GAAG,aAAc7N,GAAWoC,GAC5ByL,GAAG,WAAYI,GAA+B7L,IAGhDwJ,EAASvE,MAAM1G,QACZgH,OACAgC,MAAM,KACN9C,QAAQ,SAAAiH,MACW,WAAdA,KAKClC,EAASvE,MAAM9G,cAYVuN,OACD,aACHD,GAAG,YAAaK,IAChBL,GAAG,WAAYM,cAEZ,QACHN,GAAG,UAAWK,IACdL,GAAG,WAAYM,cAEZ,QACHN,GAAGC,EAAWI,gBArBlBL,GAAGC,EAAW9N,IACN8N,OACD,aACHD,GAAG,aAAcI,cAEd,QACHJ,GAAGrQ,EAAO,WAAa,OAAQ4Q,gBAyBlCzB,KACPnB,EAAU3E,QAAQ,gBAAGiH,IAAAA,UAAWC,IAAAA,QAAS9F,IAAAA,QACvCgF,IAA0BjJ,oBAAoB8J,EAAWC,EAAS9F,KAEpEuD,EAAY,YAML6C,GAAoBpO,UACpB2L,EAASvE,MAAM/I,MAClB8M,EAAuBnL,IACS,UAA7B2L,EAASvE,MAAM9I,UAAwB,GAAK,IAC/C6M,EAAuBnL,YAMpBoN,GAAmCF,SACZvC,EAAqBuC,EAA3CmB,IAAAA,QAASC,IAAAA,WAGZnD,OAICoD,EAAOpH,EAAUqH,wBACfzP,EAAiB4M,EAASvE,MAA1BrI,aACF0P,EAAgC,eAAjB1P,EACf2P,EAA8B,aAAjB3P,EAIbiB,EAAYwJ,GAAkBf,GAC9BkG,EAAsBhJ,EAAS,CAAC,MAAO,UAAW3F,GAClD4O,EAAwBjJ,EAAS,CAAC,OAAQ,SAAU3F,GACpD6O,OAAe1D,GAEjBwD,IACFE,EAAQC,KAAOV,GAAoB,QACnCS,EAAQE,MAAQX,GAAoB,UAGlCQ,IACFC,EAAQG,IAAMZ,GAAoB,OAClCS,EAAQI,OAASb,GAAoB,eAOnCc,EAAIP,EAAsBQ,KAAKC,IAAIP,EAAQC,KAAMT,GAAWA,EAC5DgB,EAAIT,EAAwBO,KAAKC,IAAIP,EAAQG,IAAKV,GAAWA,EAG7DK,GAAuBO,EAAIL,EAAQE,QACrCG,EAAIC,KAAKG,IAAIjB,EAASnR,OAAOqS,WAAaV,EAAQE,QAEhDH,GAAyBS,EAAIR,EAAQI,SACvCI,EAAIF,KAAKG,IAAIhB,EAASpR,OAAOsS,YAAcX,EAAQI,UAKvBlN,EAC5BmL,EAAM5M,OACN,SAAC0B,UAAgBA,IAAOmF,KAGIwE,EAASvE,MAAMjI,cAC3CwM,EAASC,eAAgBzE,eACpBwE,EAASC,eAAgBzE,WAC5BqH,sBAAuB,iBAAO,CAC5BiB,MAAO,EACPC,OAAQ,EACRV,IAAKP,EAAeF,EAAKS,IAAMK,EAC/BJ,OAAQR,EAAeF,EAAKU,OAASI,EACrCP,KAAMJ,EAAaH,EAAKO,KAAOI,EAC/BH,MAAOL,EAAaH,EAAKQ,MAAQG,IAEnCS,YAAa,EACbC,aAAc,IAGhBjE,EAASC,eAAgBiE,kBAGN,YAAjB9Q,GAA8B4M,EAAS3E,MAAM8E,WAC/CqB,cA6BKpN,GAAUmN,GACZvB,EAAS3E,MAAM6E,YAAaiE,GAAuB5C,KAInDvB,EAAS3E,MAAM8E,YAClBpB,EAAuBwC,EAAM6C,KAEzB7C,aAAiB8C,aACnBrF,EAAqBuC,IAMR,UAAfA,EAAM6C,OACyB,IAA/BpE,EAASvE,MAAMpI,aACf2M,EAAS3E,MAAM8E,UAEfwB,KAEAP,GAAaG,aAQRzB,GAAYyB,OACb+C,EACJrO,EAAQsL,EAAM5M,OAAmB0C,KAAqByF,EAClDyH,EAAwBnO,EAC5BmL,EAAM5M,OACN,SAAC0B,UAAgBA,IAAOmF,IAGtB8I,GAAsBC,GDnMvB,SACLC,EACAC,EACAlD,EACA9F,OAEK+I,SACI,MAGQjB,EAAkBhC,EAA3BmB,QAAqBgB,EAAMnC,EAAfoB,QACZlP,EAAgCgI,EAAhChI,kBAAmBV,EAAa0I,EAAb1I,SAErB2R,EACJD,EAAWpB,IAAMK,GACI,QAApBc,EACG/Q,EAAoBV,EACpBU,GAEAkR,EACJjB,EAAIe,EAAWnB,QACM,WAApBkB,EACG/Q,EAAoBV,EACpBU,GAEAmR,EACJH,EAAWtB,KAAOI,GACG,SAApBiB,EACG/Q,EAAoBV,EACpBU,GAEAoR,EACJtB,EAAIkB,EAAWrB,OACM,UAApBoB,EACG/Q,EAAoBV,EACpBU,UAECiR,GAAcC,GAAiBC,GAAeC,ECmKjDC,CACEjH,GAAkBf,GAClBA,EAAO+F,wBACPtB,EACAvB,EAASvE,SAGXiG,IACAC,eAOKU,GAAad,OAChB4C,GAAuB5C,UAIvBvB,EAASvE,MAAMjI,aACjBhC,SAASgB,KAAKwF,iBAAiB,aAAc2J,SAC7CnQ,SAASwG,iBAAiB,YAAa6H,SAIzC8B,cAMOa,GAAOjB,GACVA,EAAM5M,SAAW0M,MAKnBrB,EAASvE,MAAMjI,aACf+N,EAAMwD,eACNjI,EAAOkI,SAASzD,EAAMwD,gBAKxBpD,eAMOW,GAAef,GAClBtL,EAAQsL,EAAM5M,OAAmBqL,EAASvE,MAAM9G,SAClDyM,GAAaG,YAORgB,GAAehB,GAClBtL,EAAQsL,EAAM5M,OAAmBqL,EAASvE,MAAM9G,SAClDgN,cAQKwC,GAAuB5C,OACxB0D,EAAgB,iBAAkB1T,OAClC2T,EAAelL,EAASuH,EAAM6C,KAAM,SAClCtP,EAAckL,EAASvE,MAAvB3G,iBAGLmQ,GAAiBtN,GAAgB7C,IAAcoQ,GAC/CvN,IAAiB7C,GAAaoQ,WAO1BC,MACFxF,GAAuBL,IAC1BK,GAAsB,EDzcrB,SAAgB7C,GAChBA,EAAOsI,aCycRC,CAAOvI,GACPwC,cAOK6B,SACC7M,EAAkB0L,EAASvE,MAA3BnH,gBACmB0L,EAASD,eAA5BhD,IAAAA,QAASrK,IAAAA,MACX4S,EAA0BxL,EAC9BxF,EACA,4BAGOiR,EAAeC,GAClBxF,EAASvE,MAAMxI,OAAS+M,EAASvE,MAAMtI,eACrCqS,EAAKC,UACPzF,EAASC,eAAgB5D,QAAQhI,UAAYmR,EAAKnR,WAGpDmG,EAAuBwF,EAASC,eAAgBlG,WAAW,IAK7DgD,EAAQzB,aAAa3E,EAAqB6O,EAAKnR,YAEM,IAAjDmR,EAAKE,WAAW9O,GAClBmG,EAAQzB,aAAa1E,EAA6B,IAElDmG,EAAQwB,gBAAgB3H,GAMxByI,GACAA,IAAsBmG,EAAKnR,WAC3BqL,IAEA3C,EAAQ7B,MAAMyK,WAAa,OAC3BC,sBAAsB,WACpB7I,EAAQ7B,MAAMyK,WAAa,MAG/BtG,EAAoBmG,EAAKnR,UACzBqL,EAAiCM,EAAS3E,MAAM8E,cAE1C0F,EAAiBhI,GAAkBf,GACnCgJ,EAAS/I,EAAQ7B,MAGvB4K,EAAOzC,IAAMyC,EAAOxC,OAASwC,EAAO3C,KAAO2C,EAAO1C,MAAQ,GAC1D0C,EAAOD,KAAwC7F,EAASvE,MAAM1I,SDzS9C,IAAM,SC2ShBmQ,EACJoC,QAA+D3H,IAApC2H,EAAwBpC,QAC/CoC,EAAwBpC,QACxBxM,EACAqP,EAAqC,iBAAZ7C,EAEzB8C,KACJ3C,IAAK0C,EAAkB7C,EAAUA,EAAQG,IACzCC,OAAQyC,EAAkB7C,EAAUA,EAAQI,OAC5CH,KAAM4C,EAAkB7C,EAAUA,EAAQC,KAC1CC,MAAO2C,EAAkB7C,EAAUA,EAAQE,QACtC2C,GAAmB7C,GAG1B8C,EAAgBH,GAAkBE,EAC9B7C,EAAUlD,EAASvE,MAAM1I,UACxBmQ,EAAQ2C,IAAmB,GAAK7F,EAASvE,MAAM1I,SAEpDiN,EAASC,eAAgBlG,UAAUU,OACjC,SAAAC,SAAgB,oBAAXA,EAAEC,OACP,GAAGuI,QAAU8C,EAEfxG,EAAyBwG,MAGrBC,KACJC,eAAe,EACf7R,UAAW2L,EAASvE,MAAMpH,WACvBC,GACHyF,eACMzF,EAAgBA,EAAcyF,UAAY,IAC9CoM,mBACEC,kBAAmBpG,EAASvE,MAAM7I,SAClCsQ,QAASxM,GACN4O,GAEL5S,SACEwD,QAASxD,EACTkI,UAAWlI,GACRoH,EAAYxF,EAAe,UAEhCrB,QACE2H,QAASoF,EAASvE,MAAMxI,KAGxBiQ,QAASlD,EAASvE,MAAM1I,SAAW2D,EACnC2P,SAAUrG,EAASvE,MAAMvI,cACtB4G,EAAYxF,EAAe,SAEhCR,UACEA,OAAQkM,EAASvE,MAAM3H,QACpBgG,EAAYxF,EAAe,aAGlCgS,kBAASd,GACPL,KACAI,EAAeC,GAEXlR,GAAiBA,EAAcgS,UACjChS,EAAcgS,SAASd,IAG3Be,kBAASf,GACPL,KACAI,EAAeC,GAEXlR,GAAiBA,EAAciS,UACjCjS,EAAciS,SAASf,MAK7BxF,EAASC,eAAiB,IAAIuG,EAC5BhL,EACAsB,EACAmJ,YAmFK7E,GACPG,EACAkF,MAEAlG,MAEIP,EAAS3E,MAAM8E,cAKfH,EAASvE,MAAM9G,uBAzXa4M,MAC5BA,EAAO,KACHmF,EAAoCzQ,EACxCsL,EAAM5M,OACNqL,EAASvE,MAAM9G,QAGb+R,IAAaA,EAASjO,QACxBoG,GAAY6H,OACP1G,EAASvE,OACZ5I,QAASyH,EAAuBwE,EAAgBjM,QAAS,CAAC6T,IAC1DnU,SAAUuM,EAAgBvM,SAC1BoC,OAAQ,GACRH,YAAY,MA6WTmS,CAAyBpF,MAGlC9B,GAAoB,EAEhB8B,IAAUkF,GACZzG,EAASvE,MAAMrH,UAAU4L,EAAUuB,GAGjCvB,EAASvE,MAAMvG,YACV8K,EAASvE,MAAMvG,KAAK8K,EAAUuB,GAQnCQ,OAA8B/B,EAAS3E,MAAMgF,YAC1CL,EAASC,gBACZkB,KAGF3P,SAASwG,iBAAiB,YAAayJ,KAGzCG,SAEM9O,EAAQiG,EAASiH,EAASvE,MAAM3I,MAAO,EAAGZ,EAAaY,OAEzDA,EACFmM,EAAgBvF,WAAW,WACzB+G,MACC3N,GAEH2N,eAOKkB,QACPpB,MAEKP,EAAS3E,MAAM8E,iBACXqB,IAGT/B,GAAoB,MAEd3M,EAAQiG,EAASiH,EAASvE,MAAM3I,MAAO,EAAGZ,EAAaY,OAEzDA,EACFoM,EAAgBxF,WAAW,WACrBsG,EAAS3E,MAAM8E,WACjBO,MAED5N,GAIHqM,EAAmByG,sBAAsB,WACvClF,gBASGmB,GAAgBN,OAGrBvB,EAASvE,MAAMjI,cACfsJ,EAAOkI,SAASzD,EAAM5M,YAMpB0M,IAA0B2D,SAASzD,EAAM5M,QAAoB,IAC3DgD,YAKFqI,EAAS3E,MAAM8E,WACfnG,EAASgG,EAASvE,MAAM1G,QAAS,iBAMF,IAA/BiL,EAASvE,MAAMpI,cACjBkN,KACAG,gBAsBKH,KACP9G,aAAawF,GACbxF,aAAayF,GACb0H,qBAAqBzH,YAMdqB,GAAInE,GAIXD,EAFAC,EAAUA,GAAW,GAEInK,GAEzB6O,SAEM1C,EAAY2B,EAASvE,MACrB6C,EAAY/C,EAAcC,OAC3BwE,EAASvE,MACTY,GACH/I,kBAAkB,KAEpBgL,EAAUhL,iBAAmBsF,EAAeyD,EAAS,oBACjDA,EAAQ/I,mBAAoB,EAC5B+K,EAAU/K,iBACd0M,EAASvE,MAAQ6C,EAEjB4C,KAEAQ,IACA7B,EAAuBxG,EACrByG,GACAzD,EAAQ3I,qBAAuB,GAGjC0K,GAAoBtB,EAAQuB,EAAWC,GACvC0B,EAASD,eAAiBlD,GAAYC,GAElCkD,EAASC,iBAET7K,EAA6ByR,KAAK,SAAAC,UAE9BlO,EAAeyD,EAASyK,IAASzK,EAAQyK,KAAUzI,EAAUyI,MAIjE9G,EAASC,eAAeY,UACxBM,KAEInB,EAAS3E,MAAM8E,WACjBH,EAASC,eAAe8G,uBAGtB/G,EAASvE,MAAMrI,cAAgB4L,GACjCyC,GAAmCzC,IAGrCgB,EAASC,eAAe+G,mBAerBvG,SACPzN,yDAAmB+F,EACjBiH,EAASvE,MAAMzI,SACf,EACCd,EAAac,SAA8B,QAI5CgN,EAAS3E,MAAM+E,aACdJ,EAAS3E,MAAM6E,aACfvI,GAAiBqI,EAASvE,MAAM5G,SAQ/BwM,IAA0BC,aAAa,cAIH,IAApCtB,EAASvE,MAAMvH,OAAO8L,IAI1B4B,KAEA9E,EAAO5B,MAAM+L,WAAa,UAC1BjH,EAAS3E,MAAM8E,WAAY,EAEvBH,EAASvE,MAAMjI,aACjB6N,IAA0BxJ,UAAUC,IAAIhB,OAIpCoQ,EAAyBpF,KAC/B/G,EAAsBmM,EAAuBC,OAAOrK,GAAS,GAE7DwC,EAAuB,WAChBU,EAAS3E,MAAM8E,YAKf4B,MACH/B,EAASC,eAAgB+G,SAGvBhH,EAASD,eAAe9C,WAC1B+C,EAASD,eAAelN,QAAQqI,MAAMkM,gBACpC5D,KAAK6D,MAAMrU,EAAW,IAAM,MAG5BgN,EAASvE,MAAM/G,SAj1BrBqG,EAAsB,CAAC+B,GAASlL,EAAO,EAAIoO,EAASvE,MAAMxG,yBAEjDqS,IACPtH,EAASC,eAAgBiE,iBAErBlE,EAAS3E,MAAMgF,UACjBuF,sBAAsB0B,GAEtBvM,EAAsB,CAAC+B,GAAS,GAIpCwK,IAy0BEvM,EAAsB,CAAC+B,GAASkD,EAASvE,MAAMxG,gBAC/C8F,EAAsBmM,EAAwBlU,GAC9CoI,EAAmB8L,EAAwB,oBAtzBrBlU,EAAkBsD,GAC1C0L,GAAgBhP,EAAUsD,GAuzBxBiR,CAAiBvU,EAAU,WACrBgN,EAASvE,MAAMhJ,MACjB4O,IAA0B/F,4BAChB0E,EAASvE,MAAMhJ,MACvBqK,EAAOqB,IAIX6B,EAASvE,MAAMtH,QAAQ6L,GACvBA,EAAS3E,MAAMiF,SAAU,iBA9V7BX,GAAsB,MAEhB6H,IACHzF,MACiC,YAAhC/B,EAASvE,MAAMrI,cAA8BuE,GAE5CqI,EAASC,gBAOP8B,OACH/B,EAASC,eAAeiE,iBAEpBsD,GACFxH,EAASC,eAAe8G,wBAI5BvM,EACEwF,EAASC,eAAelG,UACxBiG,EAASvE,MAAMxI,QAhBjBkO,KAEIqG,GACFxH,EAASC,eAAgB8G,wBAoB7B/G,EAASC,eAAgBzE,UAAYA,MAC7B9I,EAAUsN,EAASD,eAAnBrN,MAEJqP,MACErP,IACFA,EAAMwI,MAAMuM,OAAS,KAGnBzI,GACFyC,GAAmCzC,IAE5BtM,IACTA,EAAMwI,MAAMuM,OAAS,IAKrB9P,GACAqH,GACgC,YAAhCgB,EAASvE,MAAMrI,eAEfqO,GAAmCzC,GAE/BtM,IACFA,EAAMwI,MAAMuM,OAAS,UAIjBlV,EAAayN,EAASvE,MAAtBlJ,UAER6M,EACe,WAAb7M,EACIiJ,EAAUkM,WACVpN,EAAuB/H,EAAU,CAACiJ,KAEjBwJ,SAASlI,KAC9BsC,EAAkBxC,YAAYE,GAC9BkD,EAASvE,MAAMxH,QAAQ+L,GACvBA,EAAS3E,MAAMgF,WAAY,GA8R7BsH,aAMOjH,SACP1N,yDAAmB+F,EACjBiH,EAASvE,MAAMzI,SACf,EACCd,EAAac,SAA8B,QAG1CgN,EAAS3E,MAAM+E,aAAgBJ,EAAS3E,MAAM6E,YAIV,IAApCF,EAASvE,MAAMzH,OAAOgM,IAp5B1BxO,SAAS4G,oBAAoB,QAASyJ,IAAiB,GA05BvD/E,EAAO5B,MAAM+L,WAAa,SAC1BjH,EAAS3E,MAAM8E,WAAY,EAC3BH,EAAS3E,MAAMiF,SAAU,EACzBZ,GAAiC,EAE7BM,EAASvE,MAAMjI,aACjB6N,IAA0BxJ,UAAUQ,OAAOvB,OAGvCoQ,EAAyBpF,KAC/B/G,EAAsBmM,EAAwBlU,GAC9CoI,EAAmB8L,EAAwB,mBAt3BlBlU,EAAkBsD,GAC3C0L,GAAgBhP,EAAU,YAErBgN,EAAS3E,MAAM8E,WAChBf,GACAA,EAAkB4F,SAASlI,IAE3BxG,MAi3BJsR,CAAkB5U,EAAU,WACrByM,GACH+B,IAGExB,EAASvE,MAAMhJ,MACjB4O,IAA0B9C,+BAAwByB,EAASvE,MAAMhJ,OAGnEuN,EAASC,eAAgB4H,wBACzB7H,EAASC,eAAgB5D,QAAQhI,UAAY2L,EAASvE,MAAMpH,UAE5D+K,EAAkBZ,YAAY1B,GAC9BkD,EAASvE,MAAM1H,SAASiM,GACxBA,EAAS3E,MAAMgF,WAAY,MCznCjC,IAAIyH,IAA4B,EAKhC,SAASC,GAAMC,EAAkB3L,GAC/BD,EAAgBC,GAAW,GAAInK,GAE1B4V,KL0BLtW,SAASwG,iBAAiB,aAAcJ,EAAiBpB,GACzDjF,OAAOyG,iBAAiB,OAAQM,GKzB9BwP,IAA4B,OHTKhS,EGY7B2F,OAAoBvJ,EAAiBmK,GHZRvG,EGgBVkS,EHdK,oBAA5B,GAAGC,SAASjS,KAAKF,IAAiCA,EAAMkC,kBDkBrD,SACLkQ,OAEMC,EAAiC,CACrCC,WAAW,EACX1C,WAAYwC,EAAiBxC,YAAc,GAC3CV,sBACA1J,sBAAaxC,EAAahD,GACxBoS,EAAiBxC,WAAW5M,GAAOhD,GAErCgG,sBAAahD,UACJoP,EAAiBxC,WAAW5M,IAErCyF,yBAAgBzF,UACPoP,EAAiBxC,WAAW5M,IAErCwI,sBAAaxI,UACJA,KAAOoP,EAAiBxC,YAEjC1N,8BACAI,iCACAP,UAAW,CACTwQ,WAAY,GACZvQ,aAAIgB,GACFoP,EAAiBrQ,UAAUwQ,WAAWvP,IAAO,GAE/CT,gBAAOS,UACEoP,EAAiBrQ,UAAUwQ,WAAWvP,IAE/CkM,kBAASlM,UACAA,KAAOoP,EAAiBrQ,UAAUwQ,kBAK1C,IAAMvP,KAAOqP,EAChBD,EAAiBpP,GAAOqP,EAAUrP,GIvClCwP,CAAmCN,OAG/BO,EHGD,SAA4BzS,MAC7BuE,EAAWvE,SAEN,CAACA,MAGNA,aAAiB0S,gBACZ3S,EAAUC,MAGfoD,MAAMC,QAAQrD,UACTA,aAIAD,EAAUrE,SAASwP,iBAAiBlL,IAC3C,MAAOoG,SACA,IGpBSuM,CAAmBT,GAASrM,OAC5C,SAACC,EAAKJ,OACEwE,EAAWxE,GAAaqD,GAAYrD,EAAWC,UAEjDuE,GACFpE,EAAIwG,KAAKpC,GAGJpE,GAET,WAGKvB,EAAW2N,GAAWO,EAAU,GAAKA,SAM9CR,GAAMW,gBACNX,GAAMY,SAAWzW,EAKjB6V,GAAMa,YAAc,SAACC,GACnBlQ,OAAOD,KAAKmQ,GAAiB5N,QAAQ,SAAAnC,GAEnC5G,EAAa4G,GAAO+P,EAAgB/P,MAGxCiP,GAAMe,QF0OC,wEAGa,GAFTC,IAATC,QACAhW,IAAAA,SAEA6C,EAAUrE,SAASwP,iBAAiB3J,IAAkB4D,QACpD,SAAC6B,ODzR8BhH,EC0RvBkK,EAAWlD,EAAOrE,UAEpBuH,EAAU,KACRiJ,GAAa,EACbF,IACFE,GD/RyBnT,EC+ROiT,GD9RzBtQ,SAAWjD,EAAQQ,KAAKF,EAAOuB,GC+RlC2I,EAASxE,YAAcuN,EACvBjM,IAAWiM,EAA4BjM,QAGxCmM,GACHjJ,EAASU,KAAK1N,OE1PxB+U,GAAMmB,MChES,SACbX,gEACmE,OAAjEzV,MAAAA,aAAQyV,EAAU,GAAG9M,MAAM3I,YAAOE,SAAAA,aAAW,IAE3CmW,GAAiB,WAUZC,EAAkBtT,GACzBqT,EAAiBrT,EACjBuT,aAGOnV,EAAO8L,GACdA,EAASsJ,eAAepV,OAAO8L,GAE/BuI,EAAUtN,QAAQ,SAAA+E,GAChBA,EAASQ,IAAI,CAAExN,SAAAA,IAEXgN,EAAS3E,MAAM8E,WACjBH,EAASU,SAIb0I,GAAkB,YAGXpV,EAAOgM,GACdA,EAASsJ,eAAetV,OAAOgM,GAC/BoJ,GAAkB,YAGXjV,EAAQ6L,GACfA,EAASsJ,eAAenV,QAAQ6L,GAChCA,EAASQ,IAAI,CAAExN,SAAUgN,EAASsJ,eAAetW,oBAG1CqW,IACPd,EAAUtN,QAAQ,SAAA+E,GAChBA,EAASQ,IAAI,CACXtM,OAAAA,EACAC,QAAAA,EACAH,OAAAA,EACAlB,MAAOqW,EACH,CAAC,EAAGjQ,MAAMC,QAAQrG,GAASA,EAAM,GAAKA,GACtCA,EACJE,SAAUmW,EAAiBnW,EAAWgN,EAASsJ,eAAetW,aA9CpEuV,EAAUtN,QAAQ,SAAA+E,GACZA,EAASsJ,eACXtJ,EAASQ,IAAIR,EAASsJ,gBAEtBtJ,EAASsJ,oBAAsBtJ,EAASvE,SA+C5C4N,KDsBE/X,GACFoI,WAXK,WACL7D,EAAUrE,SAASwP,iBAAiB,iBAAiB/F,QAAQ,SAAA5E,OACrDxD,EAAUwD,EAAGyF,aAAa,cAE5BjJ,GACFkV,GAAM1R,EAAI,CAAExD,QAAAA"}